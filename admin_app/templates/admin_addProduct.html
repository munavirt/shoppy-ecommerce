{% extends 'admin_base.html' %}
{% load static %}



{% block content %}
<div class="main-panel">
    <div class="content-wrapper" >
      <div class="">
        <div class="page-header ">
          <h2 class="page-title " style="margin-left: 4rem;">Add Product</h2>
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item active" aria-current="page"></li>
            </ol>
          </nav>
        </div>
        {% include 'alert.html' %}
        <form action="{% url 'admin_addProduct' %}" method="post" enctype="multipart/form-data" class="mt-4">
          {% csrf_token %}
          <div class="form-group">
              <label for="product_name">Product Name</label>
              <input type="text" class="form-control" id="product_name" name="product_name" required>
          </div>
          <div class="form-group">
              <label for="slug">Slug</label>
              <input type="text" class="form-control" id="slug" name="slug" required>
          </div>
          <div class="form-group">
            <label for="category">Category</label>
            <select class="form-control" id="category" name="category" required>
                <option value="">Select a category</option>
                {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.category_name }}</option>
                {% endfor %}
            </select>
        </div>
        
          <div class="form-group">
              <label for="description">Description</label>
              <textarea class="form-control" id="description" name="description" rows="3"></textarea>
          </div>
          <div class="form-group">
              <label for="price">Price</label>
              <input type="number" class="form-control" id="price" name="price" step="0.01" required>
          </div>
          <div class="form-group">
              <label for="images">Images</label>
              <input type="file" class="form-control-file" id="images" name="images" accept="image/*" required>
          </div>
          <div class="form-group">
            <label for="images">Images</label>
            <input type="file" class="form-control-file" id="images" name="images" accept="image/*" required>
        </div>
        <div class="form-group">
            <label for="images">Images</label>
            <input type="file" class="form-control-file" id="images" name="images" accept="image/*" required>
        </div>
          <div class="form-group">
              <label for="stock">Stock</label>
              <input type="number" class="form-control" id="stock" name="stock" required>
          </div>
          <div class="form-check">
              <input type="checkbox" class="form-check-input" id="is_available" name="is_available" checked>
              <label class="form-check-label" for="is_available">Is Available</label>
          </div>
          <div class="form-check">
              <input type="checkbox" class="form-check-input" id="is_featured" name="is_featured">
              <label class="form-check-label" for="is_featured">Is Featured</label>
          </div>
          <div class="form-group mt-3">
              <button type="submit" class="btn btn-primary">Submit</button>
          </div>
      </form>
          </div>

</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  const productNameInput = document.querySelector('#id_product_name');
  const slugInput = document.querySelector('#id_slug');

  productNameInput.addEventListener('input', function() {
    const product_name = this.value;
    const slug = product_name.replace(/\s+/g, '-').toLowerCase();
    slugInput.value = slug;
});
</script>
{% endblock content %}